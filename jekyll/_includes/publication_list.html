{%- comment -%}
List of all publications in this website. Parameters:
- lang: en or fr
{%- endcomment -%}
<div class="paperlist">
{%- for paper in site.data.publications -%}
<div class="content filelist">
  <div>
    <span class="title">{{ paper.title }}</span>
    {%- if paper.short-paper %} &mdash; {% if include.lang == "fr" %}Papier court{% else %}Short paper{% endif %}{% endif %}
    {%- if paper.doi %} &mdash; <a class="external" href="https://dx.doi.org/{{ paper.doi }}">{{ paper.doi }}</a>{%- endif -%}
  </div>
  <div class="type">
    {% for author_id in paper.authors %}
      {% assign author = site.data.authors[author_id] %}
      {{ author.first-name }} {{ author.last-name }}
      {%- if author.orcid %} <a class="external" href="https://orcid.org/{{ author.orcid }}" title="{{ author.orcid }}"><i class="fab fa-orcid"></i></a>{% endif %}
      {%- unless forloop.last %}, {% endunless -%}
    {% endfor %}
  </div>
  <div class="date"><span title="{{ paper.venue }}">{{ paper.venue-acronym }} {{ paper.year }}</span></div>
  {%- if paper.artifact-badges -%}
  <div>
    {% for badge_id in paper.artifact-badges %}
      {% assign badge = site.data.badges[badge_id] %}
      {% if badge.link %}<a href="{{badge.link}}" class="external">{% endif %}
      <img src="{{ badge.image | relative_url }}"
           alt="{{ badge.title }}" title="{{ badge.title }}"
           {% if badge.witdh %}width={{ badge.width }}{% endif %}
           {% if badge.height %}height={{ badge.height }}{% endif %}/>
      {% if badge.link %}</a>{% endif %}
    {% endfor %}
  </div>
  {%- endif -%}
  <details>
    <summary>{% if include.lang == "fr" %}Résumé{% else %}Abstract{% endif %}</summary>
    <div class="abstract">
      <strong>{% if include.lang == "fr" %}Mots-clés :{% else %}Keywords: {% endif %}</strong> {{ paper.keywords | join:", " }}
      <p>{{ paper.abstract }}</p>
    </div>
  </details>

  {% include publication_links.html paper=paper lang=include.lang nutshell=true %}
</div>
{%- endfor -%}
</div>
